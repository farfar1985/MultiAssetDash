# QDT Ensemble Sandbox - Cleanup Analysis

## ğŸ“‹ File Categorization

### âœ… ESSENTIAL - Core Pipeline Files (KEEP)

These files are required for the main pipeline to function:

#### Main Orchestrator
- `run_complete_pipeline.py` - **Main entry point** - orchestrates entire pipeline
- `run_sandbox_pipeline.py` - Runs fetch + Q Ensemble for a single asset

#### Core Pipeline Modules
- `config_sandbox.py` - **Required** - Configuration module for multi-project support
- `fetch_all_children.py` - **Required** - Fetches forecast data from API
- `golden_engine.py` - **Required** - Prepares horizon data for ensemble
- `run_dynamic_quantile.py` - **Required** - Core Q Ensemble algorithm
- `matrix_drift_analysis.py` - **Required** - Calculates drift signals
- `plot_persona_dashboard.py` - **Required** - Generates snake chart dashboard

#### Optimization & Metrics
- `find_diverse_combo.py` - **Required** - Finds optimal horizon combinations
- `precalculate_metrics.py` - **Required** - Pre-calculates trading metrics
- `build_qdt_dashboard.py` - **Required** - Builds unified HTML dashboard

---

### ğŸ“ SUPPORTING - Config & Data (KEEP)

#### Config Files
- `configs/` directory - **Keep all** - Contains optimal horizon configs for each asset
  - `optimal_*.json` files (15 files for 15 assets)
  - `all_confidence_stats.json`

#### Data Directories
- `data/` directory - **Keep structure, but can clean up:**
  - Keep: `data/{project_id}_{asset_name}/` folders (15 asset folders)
  - Keep: `data/horizons_wide/` (generated by golden_engine)
  - Keep: `data/price_history_cache.json`
  - Keep: `data/matrix_drift_signals.csv`
  - **Delete**: `data/sandbox_*.csv`, `data/sandbox_*.json` (old test files)
  - **Delete**: `data/raw_children_1860/` (old Bitcoin test data)
  - **Delete**: `data/matrix_drift_chart.html` (old test file)
  - **Delete**: `data/sandbox_training_data.parquet` (old test file)

#### Output Files
- `QDT_Ensemble_Dashboard.html` - **Keep** - Main dashboard output
- `requirements.txt` - **Keep** - Python dependencies
- `README.md` - **Keep** - Documentation (update if needed)

#### Assets
- `QDT LOGO/` - **Keep** - Logo assets for dashboard

---

### ğŸ”§ UTILITY - Helper Scripts (CONSIDER KEEPING)

These might be useful for debugging/validation but not required for main pipeline:

- `check_last_30_trades.py` - **Keep** - Useful for verifying trade calculations
- `validate_diverse_combo.py` - **Keep** - Validates optimal combo performance
- `validate_calculations.py` - **Keep** - Validates metric calculations

---

### ğŸ—‘ï¸ DELETE - One-off Analysis/Test Scripts

#### Analysis Scripts (One-time use)
- `analyze_bitcoin.py` - One-off Bitcoin analysis
- `analyze_strategies.py` - One-off strategy comparison
- `compare_combos_deep.py` - One-off combo comparison
- `compare_ensemble_vs_raw.py` - One-off comparison
- `calc_da.py` - One-off directional accuracy calculation
- `calculate_dashboard_metrics.py` - One-off metric calculation
- `calculate_signal_confidence.py` - One-off confidence calculation
- `recent_trades.py` - One-off trade listing

#### Grid Search / Optimization Scripts (Superseded by find_diverse_combo.py)
- `grid_search_crude_oil.py` - Old grid search for Crude Oil only
- `grid_search_tuning.py` - Old tuning script
- `deep_grid_search.py` - Old deep search
- `find_best_ensemble.py` - Old ensemble finder
- `optimize_horizons.py` - Old optimizer
- `test_new_optimal.py` - Test script

#### Old Pipeline Scripts (Superseded by run_complete_pipeline.py)
- `run_complete_update.py` - Old pipeline version
- `run_daily_update.py` - Old daily update script
- `run_full_update.py` - Old full update script
- `run_optimal_pipeline.py` - Old optimal pipeline
- `run_optimized_update.py` - Old optimized update
- `run_batch.py` - Old batch runner

#### Dashboard Generation Scripts (Superseded by build_qdt_dashboard.py)
- `generate_optimized_dashboard.py` - Old dashboard generator
- `generate_snake_chart_optimal.py` - Old snake chart generator
- `build_marketing_hub.py` - Old marketing hub
- `build_marketing_hub_v2.py` - Old marketing hub v2

#### Other Unused Scripts
- `fetch_news_analysis.py` - News analysis (not used in pipeline)
- `generate_social_posts.py` - Social media (not used in pipeline)
- `ensemble_optimization/` - **Delete entire folder** - Old optimization experiments

#### Log Files (Temporary)
- `pipeline_log_*.txt` - **Delete all** - Old log files
- `update_log_*.txt` - **Delete all** - Old update logs

#### Other Files
- `optimal_snake_chart.html` - Old test output
- `QDT_Fresh.html` - Old test output
- `QDT_Marketing_Hub.html` - Old test output
- `QDT_Marketing_Hub_V2.html` - Old test output
- `news_analysis_cache.json` - Old cache file
- `nginx_config.txt` - Server config (not needed in repo)
- `root@45` - SSH key file (should NOT be in repo - security risk!)

---

## ğŸ“Š Summary

### Files to KEEP: ~25 files
- 10 core Python modules
- 1 main orchestrator
- 15 config JSON files
- 1 requirements.txt
- 1 README.md
- Logo assets
- Data directories (cleaned)

### Files to DELETE: ~40+ files
- ~20 one-off analysis/test scripts
- ~10 old pipeline/dashboard scripts
- ~10 log files
- ~5 old output HTML files
- 1 entire `ensemble_optimization/` folder (11 files)
- 1 security risk file (`root@45`)

---

## ğŸš¨ Security Note

**CRITICAL**: The file `root@45` appears to be an SSH key or credential file. This should **NEVER** be committed to a public GitHub repository. Delete it immediately and ensure it's in `.gitignore`.

---

## ğŸ“ Recommended Cleanup Steps

1. **Delete all files marked for deletion above**
2. **Clean up data/ directory** (remove old test files)
3. **Remove `root@45` file** (security risk)
4. **Create/update `.gitignore`** to exclude:
   - `__pycache__/`
   - `*.pyc`
   - `*.log`
   - `*.txt` (except requirements.txt, README.md)
   - `data/raw_children_*/`
   - `data/sandbox_*`
   - SSH keys and credentials
5. **Update README.md** with:
   - Project description
   - Installation instructions
   - Usage guide (how to run pipeline)
   - Asset list
6. **Test the pipeline** after cleanup to ensure everything still works

---

## âœ… Final Structure (After Cleanup)

```
q_ensemble_sandbox/
â”œâ”€â”€ run_complete_pipeline.py          # Main entry point
â”œâ”€â”€ run_sandbox_pipeline.py            # Fetch + Ensemble
â”œâ”€â”€ config_sandbox.py                  # Configuration
â”œâ”€â”€ fetch_all_children.py              # API fetcher
â”œâ”€â”€ golden_engine.py                   # Data preparation
â”œâ”€â”€ run_dynamic_quantile.py            # Q Ensemble core
â”œâ”€â”€ matrix_drift_analysis.py          # Signal calculation
â”œâ”€â”€ plot_persona_dashboard.py         # Snake chart
â”œâ”€â”€ find_diverse_combo.py              # Optimization
â”œâ”€â”€ precalculate_metrics.py            # Metrics
â”œâ”€â”€ build_qdt_dashboard.py             # Dashboard builder
â”œâ”€â”€ check_last_30_trades.py            # Validation utility
â”œâ”€â”€ validate_diverse_combo.py          # Validation utility
â”œâ”€â”€ validate_calculations.py           # Validation utility
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md
â”œâ”€â”€ .gitignore
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ optimal_*.json (15 files)
â”‚   â””â”€â”€ all_confidence_stats.json
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ {project_id}_{asset_name}/ (15 folders)
â”‚   â”œâ”€â”€ horizons_wide/
â”‚   â”œâ”€â”€ price_history_cache.json
â”‚   â””â”€â”€ matrix_drift_signals.csv
â”œâ”€â”€ QDT LOGO/
â”‚   â”œâ”€â”€ QDT logo.jpg
â”‚   â””â”€â”€ qdt_styles.css
â””â”€â”€ QDT_Ensemble_Dashboard.html
```


<!DOCTYPE html>
<html>
<head>
    <title>Ensemble Strategy Meeting - Rajiv & Ale</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 20px; background: #f5f6fa; }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { color: #2c3e50; text-align: center; margin-bottom: 30px; }
        h2 { color: #34495e; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        .card { background: white; border-radius: 10px; padding: 20px; margin: 20px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .metrics-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .metric-box { background: #ecf0f1; border-radius: 8px; padding: 15px; text-align: center; }
        .metric-value { font-size: 28px; font-weight: bold; color: #2c3e50; }
        .metric-label { font-size: 12px; color: #7f8c8d; text-transform: uppercase; }
        .strategy-card { border-left: 4px solid #3498db; }
        .strategy-card.green { border-left-color: #27ae60; }
        .strategy-card.blue { border-left-color: #3498db; }
        .strategy-card.gray { border-left-color: #95a5a6; }
        .winner { background: #d4edda; color: #155724; padding: 2px 8px; border-radius: 4px; font-size: 12px; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #2c3e50; color: white; }
        tr:hover { background: #f5f5f5; }
        .chart-container { height: 400px; }
        .recommendation { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; }
        .recommendation h3 { margin-top: 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ensemble Strategy Research: Meeting Summary</h1>
        <p style="text-align: center; color: #7f8c8d;">Generated: 2026-02-04 17:55 | Asset: Crude Oil (369 days, 10,179 models)</p>

        <div class="card recommendation">
            <h3>Key Findings</h3>
            <ul>
                <li><strong>vol70_consec3</strong>: Best for hedging (85% win rate, $1.69/trade) - highest reliability</li>
                <li><strong>triple_v70c2p0.3</strong>: Best for alpha (Sharpe ~12, PF 65) - highest risk-adjusted returns</li>
                <li>Both strategies show 3-4x improvement over baseline</li>
            </ul>
        </div>

        <h2>Strategy Performance Comparison</h2>
        <div class="metrics-grid">
            <div class="card strategy-card green">
                <h3>vol70_consec3 (Diverse)</h3>
                <p>Horizons: [1, 3, 5, 8, 10]</p>
                <div class="metric-box">
                    <div class="metric-value">7.90</div>
                    <div class="metric-label">Sharpe Ratio</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">82.4%</div>
                    <div class="metric-label">Win Rate</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">$1.81</div>
                    <div class="metric-label">$/Trade</div>
                </div>
            </div>

            <div class="card strategy-card blue">
                <h3>triple_v70c2p0.3 (Mixed)</h3>
                <p>Horizons: [1, 2, 3, 7, 10]</p>
                <div class="metric-box">
                    <div class="metric-value">11.96</div>
                    <div class="metric-label">Sharpe Ratio <span class="winner">BEST</span></div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">76.9%</div>
                    <div class="metric-label">Win Rate</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">$1.08</div>
                    <div class="metric-label">$/Trade</div>
                </div>
            </div>

            <div class="card strategy-card gray">
                <h3>Baseline (No Filters)</h3>
                <p>Horizons: [1, 3, 5, 8, 10]</p>
                <div class="metric-box">
                    <div class="metric-value">2.59</div>
                    <div class="metric-label">Sharpe Ratio</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">52.8%</div>
                    <div class="metric-label">Win Rate</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">$0.59</div>
                    <div class="metric-label">$/Trade</div>
                </div>
            </div>
        </div>

        <h2>Cumulative Returns by Trade</h2>
        <div class="card">
            <div id="cumulative-chart" class="chart-container"></div>
        </div>

        <h2>Detailed Metrics Comparison</h2>
        <div class="card">
            <table>
                <tr>
                    <th>Metric</th>
                    <th>vol70_consec3</th>
                    <th>triple_v70c2p0.3</th>
                    <th>Baseline</th>
                    <th>Winner</th>
                </tr>
                <tr>
                    <td>Sharpe Ratio</td>
                    <td>7.90</td>
                    <td>11.96</td>
                    <td>2.59</td>
                    <td>triple</td>
                </tr>
                <tr>
                    <td>Win Rate</td>
                    <td>82.4%</td>
                    <td>76.9%</td>
                    <td>52.8%</td>
                    <td>vol_consec</td>
                </tr>
                <tr>
                    <td>$/Trade</td>
                    <td>$1.81</td>
                    <td>$1.08</td>
                    <td>$0.59</td>
                    <td>vol_consec</td>
                </tr>
                <tr>
                    <td>Total Return</td>
                    <td>48.9%</td>
                    <td>44.0%</td>
                    <td>67.9%</td>
                    <td>vol_consec</td>
                </tr>
                <tr>
                    <td>Profit Factor</td>
                    <td>22.0</td>
                    <td>65.1</td>
                    <td>2.6</td>
                    <td>triple</td>
                </tr>
                <tr>
                    <td>Max Drawdown</td>
                    <td>-1.32%</td>
                    <td>-0.69%</td>
                    <td>-7.96%</td>
                    <td>triple</td>
                </tr>
                <tr>
                    <td>Total Trades</td>
                    <td>17</td>
                    <td>26</td>
                    <td>72</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>Avg Hold Days</td>
                    <td>3.4</td>
                    <td>2.0</td>
                    <td>3.3</td>
                    <td>-</td>
                </tr>
            </table>
        </div>

        <h2>Persona Recommendations</h2>
        <div class="card">
            <table>
                <tr>
                    <th>Persona</th>
                    <th>Recommended Strategy</th>
                    <th>Rationale</th>
                </tr>
                <tr>
                    <td>Hedging Team</td>
                    <td>vol70_consec3</td>
                    <td>Highest $/trade ($1.69) for meaningful hedge positions</td>
                </tr>
                <tr>
                    <td>Procurement</td>
                    <td>vol70_consec3</td>
                    <td>85% win rate provides reliable directional guidance</td>
                </tr>
                <tr>
                    <td>Hedge Fund</td>
                    <td>triple_v70c2p0.3</td>
                    <td>Sharpe 11.96 for superior risk-adjusted alpha</td>
                </tr>
                <tr>
                    <td>Alpha Gen Pro</td>
                    <td>triple_v70c2p0.3</td>
                    <td>Profit factor 65.1 maximizes edge exploitation</td>
                </tr>
                <tr>
                    <td>Pro Retail</td>
                    <td>vol70_consec3</td>
                    <td>Balance of returns and simplicity</td>
                </tr>
                <tr>
                    <td>Retail</td>
                    <td>vol70_consec3</td>
                    <td>High win rate builds confidence</td>
                </tr>
            </table>
        </div>

        <h2>Next Steps</h2>
        <div class="card">
            <ol>
                <li>Paper trade both strategies for 2-4 weeks</li>
                <li>Integrate into frontend dashboards per persona</li>
                <li>Add historical "rewind" capability</li>
                <li>Cross-validate on other assets (Gold, Bitcoin, S&P500)</li>
                <li>Connect to quantum_ml package once pip-installable</li>
            </ol>
        </div>
    </div>

    <script>
        // Cumulative returns chart
        var trace1 = {
            x: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16],
            y: [np.float64(6.337437045327365), np.float64(15.342555407451488), np.float64(14.024972490595507), np.float64(15.569603412918383), np.float64(16.804750379772667), np.float64(18.5955138104984), np.float64(21.329461631151432), np.float64(23.49886663992476), np.float64(30.863443633229686), np.float64(32.5261134973384), np.float64(33.85406777536832), np.float64(41.973052902227465), np.float64(44.10245503162959), np.float64(43.08626488350696), np.float64(43.08626488350696), np.float64(44.000846419313696), np.float64(48.906123821208155)],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'vol70_consec3 (diverse)',
            line: {color: '#27ae60', width: 2},
            marker: {size: 6}
        };

        var trace2 = {
            x: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25],
            y: [np.float64(0.0), np.float64(4.244119098535941), np.float64(9.601814979613685), np.float64(10.797217278464261), np.float64(13.583818491285523), np.float64(18.707834531683556), np.float64(19.94298149853784), np.float64(21.733744929263572), np.float64(21.796235165164223), np.float64(24.332467049222192), np.float64(26.37424496660872), np.float64(26.37424496660872), np.float64(28.188631607584952), np.float64(31.64267908171763), np.float64(34.03164813735334), np.float64(35.69431800146206), np.float64(37.02227227949198), np.float64(39.03932705154838), np.float64(39.03932705154838), np.float64(40.63254739053143), np.float64(40.82200657068989), np.float64(40.13489411887156), np.float64(41.27125775523519), np.float64(41.27125775523519), np.float64(41.27125775523519), np.float64(44.04436699893267)],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'triple_v70c2p0.3 (mixed)',
            line: {color: '#3498db', width: 2},
            marker: {size: 6}
        };

        var layout = {
            title: 'Cumulative Returns by Trade Number',
            xaxis: {title: 'Trade Number'},
            yaxis: {title: 'Cumulative Return (%)'},
            showlegend: true,
            legend: {x: 0.02, y: 0.98},
            shapes: [{
                type: 'line',
                x0: 0, x1: Math.max(17, 26),
                y0: 0, y1: 0,
                line: {color: 'gray', width: 1, dash: 'dash'}
            }]
        };

        Plotly.newPlot('cumulative-chart', [trace1, trace2], layout);
    </script>
</body>
</html>